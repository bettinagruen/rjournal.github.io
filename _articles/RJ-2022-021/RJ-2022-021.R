# Generated by `rjournal_article()` using `knitr::purl()`: do not edit by hand
# Please edit RJ-2022-021.Rmd to modify this file

## ----include=FALSE------------------------------------------------------------
knitr::opts_chunk$set(out.width = "\\textwidth")



## ----fig-skeleton, echo=FALSE, fig.cap='A comparison of minimal examples of a typical .Rmd document and a .Rmd document for an interactive sandbox app.', fig.subcap=c('A typical .Rmd file', 'A sandbox app .Rmd file'), fig.ncol = 2, fig.align='center', out.width='.49\\linewidth'----
knitr::include_graphics(c('skeleton-md.png','skeleton.png'))


## ----fig2, echo=FALSE, fig.cap='A screenshot of the GB rainfall interactive notebook site. The main feature is the code box. When the site loads, the code that generates the published version of the figure is in the box and the published version of the figure is below it. Users can make edits and re-run the code in the code box and the figure will update accordingly. Users can use the "Start Over" button to see the published version of the code at any point without refreshing the entire site.'----
if(knitr::is_latex_output()==FALSE){
  knitr::include_graphics('GB_notebook_screenshot.png')
}


## ----fig1, echo=FALSE, fig.cap='The various levels of abstraction of various types of R documents. Our approach fills nicely the gap between R Markdown or Jupyter notebooks and Shiny apps.'----
knitr::include_graphics('learnr_abstraction.png')


## ----tb1,  echo=FALSE, warning=FALSE, message=FALSE, results='hide'-----------
library(dplyr)
library(kableExtra)
table1 = tibble(Stakeholders= c("Authors", "Authors", "Authors", 
                                "Other researchers (those wanting to try or compare the method)", "Other researchers (those wanting to try or compare the method)", "Other researchers (those wanting to try or compare the method)",
                                "Other researchers (those curious about the results)", "Other researchers (those curious about the results)", "Other researchers (those curious about the results)", 
                                "Data Centres",
                                "Funders", "Funders",
                                "Wider research community and general public"),
                Advantages = c("Very little extra work required in additional to writing R markdown document.",
                               "No experience to generate web interfaces required.", 
                               "Much greater impact in research output.",
                               "A much more enriched experience to try methods and data and to test alternative hypothesis and scenarios.",
                               "No need to download data and scripts/notebooks and install packages to try a method.", 
                               "More efficient to learn the new method.", 
                               "Try running different scenarios quickly than the published ones without the hassle of full knowledge of the code, downloading the code and data, and setting up the software environment.",
                               "Quickly reset to the published version of code snippet.", 
                               "No need to worry about breaking the code.", 
                               "A new avenue to demonstrate impact to funders if end users try methods or datasets hosted by them in sandboxes.", 
                               "Better value of investment if even small parts of a research is readily reproducible.",
                               "Time saving to fund related work that builds on research documented this way.",
                               "Promotes trust and confidence in research through transparency.")) 




## ----tb1-latex, eval = knitr::is_latex_output(), echo=FALSE-------------------
table1$Advantages <-  paste0("• ", table1$Advantages)

table1[,1]=""
colnames(table1)[1] = ""
kbl(table1, format = "latex", caption = "Advantages of the proposed approach to various stakeholders", booktabs = T)%>%
  kable_styling(full_width = F) %>%
  kableExtra::pack_rows(index=c("Authors"=3, "Other researchers (those wanting to try or compare the method)"=3, "Other researchers (those curious about the results)"=3, "Data Centres"=1, "Funders"=2, "Wider research community and general public"=1)) %>%
  column_spec(1, width = "0.1em" ) %>%
  column_spec(2, width = "40em" ) %>%
  row_spec(c(3,6,9,10,12),hline_after=TRUE)






## ----tb1-html, eval = knitr::is_html_output(), echo=FALSE---------------------
#> knitr::kable(table1[,2], format = "html", caption = "Advantages of the proposed approach to various stakeholders") %>%
#>   kableExtra::pack_rows(index=c("Authors"=3, "Other researchers (those wanting to try or compare the method)"=3, "Other researchers (those curious about the results)"=3, "Data Centres"=1, "Funders"=2, "Wider research community and general public"=1))


## ----tb2,  echo=FALSE, warning=FALSE, message=FALSE, results='hide'-----------
table2 = tibble( Technology= c("R script","Static notebooks",rep("Web apps (e.g. Shiny)",3),rep("Binder/Google Colab",2)),
                 `Potential Issues` = c(
                   'Limited narrative. Needs to run all the scripts.',
                   'Needs to download the code, data and package to try it out.',
                   'While web apps helpful to some stakeholders, it can be too high-level to some.',
                   'Lots of extra work to create web interface.',
                   'Does not expose the code to generate results.',
                   'Users change the entire notebook.',
                  'Users need to run all cells about the section they are interested in.'),
                 `How our approach can help?` = c(
                 'Much richer narrative and interactive experience.',
                 'Can instantly try out the code in a controlled manner, using the published data/packages/software environment.',
                 'Users can interact with the code within the code snippet sandboxes themselves.',
                 'The published version of the code is shown to users.',
                 'Users can run the code snippets live.',
                 'A much more enriched and guided experience.',
                 'Users can choose to only run the sandboxes they are interested in.')) 




## ----tb2-latex, eval = knitr::is_latex_output(), echo=FALSE-------------------
table2[,1]=""
colnames(table2)[1] = ""
table2$`Potential Issues` <-  paste0("• ", table2$`Potential Issues`)
table2$`How our approach can help?` <-  paste0("• ", table2$`How our approach can help?`)
kbl(table2, format = "latex", caption = "Advantages of the proposed approach over existing approaches", booktabs = T)%>%
  kable_styling(full_width = F) %>%
  kableExtra::pack_rows(index=c("R script"=1,"Static notebooks"=1,"Web apps (e.g. Shiny)"=3,"Binder/Google Colab"=2)) %>%
  column_spec(1, width = "0.1em" ) %>%
  column_spec(2, width = "18em" ) %>%
  column_spec(3, width = "18em" ) %>%
  row_spec(c(1,2,5),hline_after=TRUE)






## ----tb2-html, eval = knitr::is_html_output(), echo=FALSE---------------------
#> knitr::kable(table2[,2:3], format = "html", caption = "Advantages of the proposed approach over existing approaches") %>%
#>   kable_styling(full_width = T) %>%
#>   kableExtra::pack_rows(index=c("R script"=1,"Static notebooks"=1,"Web apps (e.g. Shiny)"=3,"Binder/Google Colab"=2))%>%
#>   column_spec(1, width = "50%" ) %>%
#>   column_spec(2, width = "50%" )

